[{"text": "September 2018.", "start": 0.089, "duration": 1.321}, {"text": "I was tired, I was exhausted,", "start": 1.41, "duration": 1.229}, {"text": "I\u2019d just got back home from something,", "start": 2.639, "duration": 1.931}, {"text": "and I didn't have the energy to cook.", "start": 4.57, "duration": 1.55}, {"text": "So I went to my phone,", "start": 6.12, "duration": 1.32}, {"text": "opened up a certain food-delivery app that\u2019s\npopular in the UK, and I ordered pizza.", "start": 7.44, "duration": 3.97}, {"text": "Now, I know: that food-delivery company\u2019s\nemployment practices are questionable,", "start": 11.41, "duration": 3.75}, {"text": "there are more ethical ways to get dinner\ndelivered.", "start": 15.16, "duration": 2.65}, {"text": "But I was tired, and I was hungry.", "start": 17.81, "duration": 1.47}, {"text": "As are a lot of their drivers.", "start": 20.04, "duration": 2.12}, {"text": "But that was the Night of the Multiple Orders,", "start": 22.17, "duration": 2.24}, {"text": "when a bug in that app meant that some people\naround Britain ended up with", "start": 24.41, "duration": 3.73}, {"text": "identical food orders\nbeing delivered two or three times,", "start": 28.14, "duration": 2.58}, {"text": "and others got nothing at all.", "start": 30.73, "duration": 1.759}, {"text": "And I nearly got caught up in the chaos.", "start": 32.489, "duration": 1.951}, {"text": "To explain what happened,", "start": 34.44, "duration": 1.0}, {"text": "I need to tell you a story about two generals.", "start": 35.44, "duration": 3.44}, {"text": "The Two Generals' Problem is a\nclassic of computer science,", "start": 40.989, "duration": 2.551}, {"text": "and it goes like this: picture a valley.", "start": 43.55, "duration": 2.189}, {"text": "In the middle of the valley is a\nheavily fortified castle.", "start": 45.739, "duration": 2.5}, {"text": "On the edges of the valley are two armies.", "start": 48.239, "duration": 2.941}, {"text": "The generals of these armies know that the\nonly way they can win a battle and overwhelm", "start": 51.18, "duration": 4.02}, {"text": "the castle is if they both attack\nat the same time.", "start": 55.2, "duration": 3.5}, {"text": "A single army isn't going to make it.", "start": 58.7, "duration": 2.08}, {"text": "They need the combined strength from\nboth sides of the valley to win.", "start": 60.78, "duration": 3.51}, {"text": "And the only way they can communicate", "start": 64.29, "duration": 2.19}, {"text": "is by sending messengers on a\nrisky path through the valley.", "start": 66.48, "duration": 3.499}, {"text": "And General A won\u2019t know what the right\ntime is until everyone\u2019s already in position.", "start": 69.979, "duration": 6.14}, {"text": "How can those two generals coordinate", "start": 76.119, "duration": 2.321}, {"text": "to make sure they\nattack at the same time?", "start": 78.44, "duration": 1.66}, {"text": "This is a magical computer-science-land problem,\nby the way,", "start": 80.1, "duration": 2.719}, {"text": "so reasonable suggestions like \u201csemaphore\u201d\nor \u201ctelescopes\u201d don\u2019t apply.", "start": 82.819, "duration": 4.51}, {"text": "On the surface the problem seems trivial.", "start": 87.329, "duration": 2.061}, {"text": "General A could just send a message to\nGeneral B with a proposed time.", "start": 89.39, "duration": 3.909}, {"text": "Say, 8 o'clock.", "start": 93.299, "duration": 1.0}, {"text": "But the messenger has to pass\nthrough the valley,", "start": 94.299, "duration": 2.24}, {"text": "and if they\u2019re spotted, they\u2019re, um,", "start": 96.539, "duration": 2.2}, {"text": "not going to make it to the other side to\ndeliver the message.", "start": 98.739, "duration": 2.95}, {"text": "So how does General A know that General B\nreceived the message?", "start": 101.689, "duration": 4.34}, {"text": "The messenger might not have made it.", "start": 106.029, "duration": 1.77}, {"text": "And if that happens,", "start": 107.799, "duration": 1.0}, {"text": "A will attack, B won\u2019t, and they\u2019ll lose.", "start": 108.799, "duration": 3.721}, {"text": "So maybe they arrange it so General B has\nto send an acknowledgment back,", "start": 112.52, "duration": 3.949}, {"text": "and General A will only attack\nif that acknowledgement arrives.", "start": 116.469, "duration": 2.851}, {"text": "But that now runs into the same problem:", "start": 119.32, "duration": 1.939}, {"text": "how does B know that A has received\nthe acknowledgement?", "start": 121.259, "duration": 2.74}, {"text": "If it doesn\u2019t get through,", "start": 123.999, "duration": 1.56}, {"text": "A won\u2019t attack, B will, and they\u2019ll lose.", "start": 125.559, "duration": 3.34}, {"text": "So, General A could send another acknowledgement\nfor the acknowledgement.", "start": 128.899, "duration": 3.101}, {"text": "But how do they know that message\nhas gotten through? Well,", "start": 132.0, "duration": 2.68}, {"text": "General B could send an acknowledgment for\nthe acknowledgement for the acknowledgement", "start": 134.68, "duration": 3.479}, {"text": "and so on, and so on, and so on.", "start": 138.159, "duration": 2.401}, {"text": "This problem is unsolvable.", "start": 140.56, "duration": 3.58}, {"text": "I know, it feels like there should be some\nhacky workaround", "start": 144.14, "duration": 2.5}, {"text": "like sending 200 messengers,\nand sure,", "start": 146.64, "duration": 2.54}, {"text": "that would probably work\nin the real world.", "start": 149.18, "duration": 2.4}, {"text": "But this is magical information-theory\ncomputer-science land.", "start": 151.58, "duration": 2.89}, {"text": "Under these strict rules,", "start": 154.47, "duration": 2.0}, {"text": "there is never a guarantee,\nthere is no certainty,", "start": 156.47, "duration": 2.83}, {"text": "there is no arrangement that can be made,\nthere is no way,", "start": 159.3, "duration": 2.56}, {"text": "that the two generals,\nthe two computers sending data,", "start": 161.86, "duration": 2.92}, {"text": "can agree that the message has definitely\nbeen received and acknowledged.", "start": 164.78, "duration": 4.34}, {"text": "Now, with computers you\u2019re not usually dealing\nwith such high stakes.", "start": 169.94, "duration": 2.52}, {"text": "If you are in computer science and working\non a problem that involves potential loss of life,", "start": 172.47, "duration": 4.049}, {"text": "I really hope you aren't watching a series\ncalled \"The Basics\".", "start": 176.52, "duration": 3.38}, {"text": "Anyway. I was ordering food.", "start": 179.9, "duration": 2.08}, {"text": "And I put my order together, I tapped \u2018pay\u2019,", "start": 181.98, "duration": 1.839}, {"text": "I put my fingerprint on my phone\u2019s reader.", "start": 183.819, "duration": 1.54}, {"text": "I got the little Apple Pay progress bar,\nand the little tick.", "start": 185.36, "duration": 2.78}, {"text": "And then I got a message from the app\nsaying that there had been a problem,", "start": 188.14, "duration": 3.879}, {"text": "and my order had failed to go through.\nWould I like to try again?", "start": 192.02, "duration": 3.28}, {"text": "And I was about to.", "start": 195.3, "duration": 1.38}, {"text": "I was about to hit \u2018pay\u2019 again.", "start": 196.689, "duration": 1.52}, {"text": "And then something, just in the back\nof my head, said: hang on.", "start": 198.209, "duration": 3.491}, {"text": "There was that little tick saying\npayment had worked.", "start": 201.7, "duration": 2.409}, {"text": "And I\u2019m enough of a computer nerd to go\n\"I\u2019m not sure I believe that failed\".", "start": 204.109, "duration": 5.291}, {"text": "So I checked the \u2018order history\u2019 page.", "start": 209.4, "duration": 1.8}, {"text": "It took a few tries to load,\nbut when it finally did, there was my order.", "start": 211.2, "duration": 3.129}, {"text": "Processing. It had gone through, but\nthe acknowledgement hadn\u2019t come back.", "start": 214.329, "duration": 3.52}, {"text": "Or, rather, something had gone wrong\non the app\u2019s servers,", "start": 217.849, "duration": 2.14}, {"text": "and the logic they\u2019d written\nthought it had failed when it hadn\u2019t.", "start": 219.989, "duration": 3.39}, {"text": "So I sat tight,\nI hoped that my food would arrive,", "start": 223.379, "duration": 2.911}, {"text": "and I figured that the engineers were probably\nhaving a very bad day.", "start": 226.29, "duration": 3.71}, {"text": "They really were.", "start": 230.0, "duration": 1.72}, {"text": "Because I wasn't the only one.", "start": 231.72, "duration": 1.61}, {"text": "People all over the UK ordering via the app\nwere going to the payment screen,", "start": 233.33, "duration": 3.314}, {"text": "hitting the button and getting\n\"try again\".", "start": 236.644, "duration": 2.635}, {"text": "And a lot of them did.\nAgain, and again, and again.", "start": 239.279, "duration": 3.1}, {"text": "They were General A,\nand the app\u2019s server was General B,", "start": 242.379, "duration": 2.59}, {"text": "and they were part of a real-life,\ncomplicated version of the Two Generals' problem.", "start": 244.969, "duration": 3.75}, {"text": "Imagine all the customers as General A,", "start": 248.719, "duration": 2.121}, {"text": "sending message after message to General B.\nB received the messages,", "start": 250.84, "duration": 3.409}, {"text": "dutifully took the money from the credit card\nevery time --", "start": 254.249, "duration": 2.33}, {"text": "they attacked --", "start": 256.579, "duration": 1.511}, {"text": "but something had happened that stopped\nthe confirmation message getting through.", "start": 258.09, "duration": 4.93}, {"text": "According to the flood of angry reports on\nTwitter,", "start": 263.02, "duration": 2.54}, {"text": "sometimes the restaurant would realise the\nproblem and just send one order.", "start": 265.56, "duration": 4.12}, {"text": "Sometimes the restaurant wouldn\u2019t realise,", "start": 269.68, "duration": 1.66}, {"text": "and three different drivers would arrive\nwith three identical orders.", "start": 271.34, "duration": 3.62}, {"text": "Sometimes no food would arrive at all.", "start": 274.96, "duration": 1.739}, {"text": "The app\u2019s customer service line was swamped.", "start": 276.699, "duration": 2.261}, {"text": "To be clear: this was not the sort of thing\nthat is one engineer\u2019s fault.", "start": 278.96, "duration": 3.62}, {"text": "When something goes this drastically wrong,", "start": 282.58, "duration": 2.2}, {"text": "there have been many poor decisions made over\na long period of time.", "start": 284.78, "duration": 3.729}, {"text": "A single human error is never a root cause.", "start": 288.509, "duration": 4.111}, {"text": "So what else could the app team have done?", "start": 292.62, "duration": 1.579}, {"text": "How can you solve the Two Generals' problem\nin the real world?", "start": 294.2, "duration": 3.46}, {"text": "Well, first, maybe no-one should have\nbeen able to place two identical orders", "start": 297.66, "duration": 4.08}, {"text": "on the same credit card,\nfor the same restaurant,", "start": 301.74, "duration": 2.18}, {"text": "within a few minutes of each other.", "start": 303.92, "duration": 1.58}, {"text": "That seems like the sort of thing there should\nhave been a check for?", "start": 305.5, "duration": 3.04}, {"text": "But the real solution is an\n\u201cidempotency token\u201d, or an \u201cidempotency key\u201d.", "start": 308.54, "duration": 4.37}, {"text": "This is a unique value generated on\nthe app, or on the web site:", "start": 312.91, "duration": 3.8}, {"text": "and it\u2019s a shopping cart ID, basically,", "start": 316.71, "duration": 1.859}, {"text": "and it\u2019s sent along with the order.", "start": 318.569, "duration": 1.771}, {"text": "it's not just for shopping carts, though:", "start": 320.34, "duration": 2.009}, {"text": "the idempotency token could be attached to\ninstructions to delete the oldest log file,", "start": 322.349, "duration": 4.361}, {"text": "or send a text message,", "start": 326.71, "duration": 1.09}, {"text": "or anything that you only want to happen once.", "start": 327.8, "duration": 3.239}, {"text": "The server stores the idempotency key to keep\ntrack of the request.", "start": 331.039, "duration": 2.991}, {"text": "And if another request arrives with the same\nkey attached,", "start": 334.03, "duration": 3.15}, {"text": "then the server knows it\u2019s already\ndealt with that request.", "start": 337.18, "duration": 3.209}, {"text": "So it doesn\u2019t fulfill it again; instead it\nknows that the reply didn\u2019t get through,", "start": 340.389, "duration": 4.271}, {"text": "so it just sends back a copy of that first\nacknowledgement again.", "start": 344.66, "duration": 3.14}, {"text": "Now, that still won\u2019t help if none\nof the messengers get through,", "start": 347.8, "duration": 3.13}, {"text": "if the connection completely fails,", "start": 350.93, "duration": 1.68}, {"text": "but for real-world problems,\nhumans will notice that.", "start": 352.61, "duration": 4.01}, {"text": "Idempotence means that you can request the\nsame thing multiple times", "start": 356.62, "duration": 3.76}, {"text": "and it\u2019ll only ever happen once.", "start": 360.38, "duration": 2.43}, {"text": "That\u2019s the way to fix the\nTwo Generals' Problem.", "start": 362.81, "duration": 3.419}, {"text": "I was lucky.", "start": 366.229, "duration": 1.0}, {"text": "I placed one order,\nI was charged for one order,", "start": 367.229, "duration": 1.491}, {"text": "and one order of food arrived\nhalf an hour later.", "start": 368.72, "duration": 3.33}, {"text": "Next time, I\u2019ll just cook for myself.", "start": 372.05, "duration": 3.05}, {"text": "This series of The Basics is sponsored by\nDashlane, the password manager.", "start": 375.1, "duration": 3.38}, {"text": "I mentioned in the previous sponsored section\nthat they sync all your passwords", "start": 378.48, "duration": 3.5}, {"text": "and payment details between\nall your devices", "start": 381.98, "duration": 2.2}, {"text": "without ever\nknowing those passwords.", "start": 384.18, "duration": 2.88}, {"text": "Which sounds a bit like magic.", "start": 387.06, "duration": 3.11}, {"text": "When you sign up to Dashlane, you choose a\nMaster Password.", "start": 390.17, "duration": 3.619}, {"text": "And incidentally,", "start": 393.789, "duration": 1.261}, {"text": "you can do that by going to\ndashlane.com/tomscott for a free 30-day trial.", "start": 395.05, "duration": 4.369}, {"text": "Anyway, when you sign up,", "start": 399.419, "duration": 1.381}, {"text": "you pick a single Master Password,", "start": 400.8, "duration": 1.88}, {"text": "and that is never transmitted over the internet.", "start": 402.68, "duration": 2.389}, {"text": "Not even to Dashlane,\nnot to their servers, nowhere.", "start": 405.069, "duration": 2.491}, {"text": "If you don\u2019t know that password,", "start": 407.56, "duration": 2.139}, {"text": "all that private data just looks\nlike random noise.", "start": 409.699, "duration": 3.101}, {"text": "So: when you sign up to a new website and\nDashlane generates", "start": 412.8, "duration": 3.095}, {"text": "a long, complicated password\nfor you,", "start": 415.895, "duration": 2.445}, {"text": "it is bundled up and encrypted using your\nmaster password, that only you know.", "start": 418.34, "duration": 4.03}, {"text": "That encryption takes just long enough,\na few fractions of a second,", "start": 422.37, "duration": 3.31}, {"text": "that there\u2019s no way to\nbrute-force it back open.", "start": 425.68, "duration": 3.12}, {"text": "That encrypted bundle gets sent to Dashlane:", "start": 428.8, "duration": 2.16}, {"text": "they just see random noise with a label saying\n\u2018please synchronise this\u2019.", "start": 430.96, "duration": 4.22}, {"text": "So they pass the bundle on to your other devices,", "start": 435.18, "duration": 2.489}, {"text": "and those devices, and only those devices,\ncan decrypt it because, at some point,", "start": 437.669, "duration": 4.191}, {"text": "you\u2019re going to open up the app and type\nin your Master Password.", "start": 441.86, "duration": 2.9}, {"text": "In truth, it\u2019s actually a little\nmore secure than that,", "start": 444.76, "duration": 2.95}, {"text": "because behind-the-scenes they also generate\na different key for each device you log in to,", "start": 447.71, "duration": 4.31}, {"text": "but that is a whole other level of security", "start": 452.02, "duration": 2.02}, {"text": "that I have actually found it impossible to\nexplain in a script.", "start": 454.04, "duration": 2.89}, {"text": "But, in the massively unlikely event that someone\ndid compromise Dashlane\u2019s servers,", "start": 456.93, "duration": 4.1}, {"text": "or bribe some employee, it wouldn\u2019t work.", "start": 461.03, "duration": 3.05}, {"text": "All they could do is watch those packets of\nrandom noise get shuffled around.", "start": 464.08, "duration": 3.829}, {"text": "All your data stays on your own devices.", "start": 467.909, "duration": 2.54}, {"text": "Which means,\nif you lose your Master Password,", "start": 470.449, "duration": 2.431}, {"text": "Dashlane can\u2019t help you.", "start": 472.88, "duration": 1.46}, {"text": "But that\u2019s fine,", "start": 474.34, "duration": 1.0}, {"text": "because now you\u2019ve just got a single password\nto remember.", "start": 475.34, "duration": 3.19}, {"text": "That is massively more secure than reusing\nthe same password", "start": 478.53, "duration": 3.69}, {"text": "or variations on a password\neverywhere online.", "start": 482.22, "duration": 2.949}, {"text": "Like I said last time:\nyou should use a password manager.", "start": 485.169, "duration": 3.181}, {"text": "So: dashlane.com/tomscott for a\nfree 30-day trial of Dashlane Premium,", "start": 488.35, "duration": 3.31}, {"text": "and if you like it you can use the code \u201ctomscott\u201d\nfor 10% off at purchase.", "start": 491.66, "duration": 3.789}]