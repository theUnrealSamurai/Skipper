[{"text": " ", "start": 0.0, "duration": 0.5}, {"text": " ", "start": 0.5, "duration": 0.5}, {"text": " ", "start": 1.0, "duration": 0.5}, {"text": " ", "start": 1.5, "duration": 0.5}, {"text": " ", "start": 2.0, "duration": 0.5}, {"text": "Warning the power supply type showcased in this video uses mains voltage and is not galvanically isolated", "start": 2.5, "duration": 5.688}, {"text": "Mishandling of the power supply can lead to fatal injuries", "start": 9.159, "duration": 3.2}, {"text": "As you can see I'm currently working on an attiny microcontroller project of", "start": 14.15, "duration": 5.069}, {"text": "Which I do not want to share any details yet", "start": 19.56, "duration": 2.69}, {"text": "So as a replacement", "start": 22.77, "duration": 1.71}, {"text": "Let's just upload an LED blink sketch to the ad tiny that like the name implies", "start": 24.48, "duration": 4.819}, {"text": "Let's an LED blink", "start": 29.939, "duration": 2.0}, {"text": "Now the main problem is how to power this small", "start": 32.129, "duration": 3.35}, {"text": "ATtiny project foo mains voltage while keeping the power supply small and also cheap", "start": 35.48, "duration": 5.759}, {"text": "The most common solution would be to use a switched-mode power supply like for example this one", "start": 42.21, "duration": 6.169}, {"text": "Pretty much all power supplies you buy nowadays feature such a switch mode power supply because they are very efficient", "start": 49.11, "duration": 7.279}, {"text": "By simply connecting it to the power grids. The mains voltage gets moved outs chopped up", "start": 57.15, "duration": 6.019}, {"text": "Transformed into a lower chopped up voltage and finally filtered in order to get a beautiful DC voltage on the outputs", "start": 63.989, "duration": 7.43}, {"text": "But as you can see in this functional principle diagram, which also comes with a feedback system", "start": 72.39, "duration": 5.239}, {"text": "switch mode power supplies are not that simple to build and", "start": 78.24, "duration": 3.11}, {"text": "require quite a lot of components", "start": 81.9, "duration": 2.0}, {"text": "Which is not only relatively expensive but also takes up too much space in comparison to my ATtiny projects", "start": 84.18, "duration": 7.43}, {"text": "So in this video, we will have a closer look at a capacitive dropper circuits", "start": 92.49, "duration": 4.76}, {"text": "Which is a low costs low component count transformerless mains power supply", "start": 97.65, "duration": 4.61}, {"text": "Which is certainly a lot more dangerous to work with but also gets the job done without a problem", "start": 103.17, "duration": 5.9}, {"text": "Let's get started", "start": 109.95, "duration": 2.0}, {"text": "This video is sponsored by JLCPCB where you can get ten professional", "start": 123.68, "duration": 5.0}, {"text": "PCBs with any soldermask color you like for the low price of only two dollars", "start": 129.08, "duration": 5.08}, {"text": "So feel free to upload your gerber files today to order your PCBs from JLCPCB", "start": 135.12, "duration": 6.5}, {"text": "To start off let's replace our ATtiny loads which draws a variable current between 8 to 12 milliamps at five volts", "start": 143.49, "duration": 7.729}, {"text": "With a simple or constant loads like an LED", "start": 151.739, "duration": 2.57}, {"text": "This blue one draws around 5 milliamps at 3 volts", "start": 155.4, "duration": 3.92}, {"text": "Now if we have a higher voltage, like for example, 15 volts, we would only need to add a resistor in series", "start": 160.05, "duration": 6.8}, {"text": "with the LED", "start": 167.43, "duration": 2.0}, {"text": "Since twelve volts would needs to drop across it and we want a current flow of 5 milliamps", "start": 169.62, "duration": 5.42}, {"text": "The resistor value would calculate to 2.4 k\u03a9", "start": 175.62, "duration": 4.28}, {"text": "After building up the real-life circuits who have the proper resistor value we can confirm that our calculations were correct", "start": 181.2, "duration": 7.1}, {"text": "So in theory, we should be able to create the same circuits with 230 volts mains AC voltage", "start": 189.72, "duration": 7.07}, {"text": "after once again calculating the correct resistor value", "start": 198.0, "duration": 3.29}, {"text": "I created these circuits and hooked it up to the power grids which as you can see a powers the LED just fine", "start": 201.29, "duration": 7.919}, {"text": "The only problem is that we waste 1.135 watts of power acids through the resistor", "start": 210.12, "duration": 6.8}, {"text": "While the LED our only uses 0.015 watts", "start": 217.53, "duration": 4.519}, {"text": "Which is highly inefficient", "start": 222.57, "duration": 2.0}, {"text": "Where for DC Circuit's we would need to create a switching circuits to efficiently attract the LED", "start": 225.239, "duration": 6.29}, {"text": "But within AC circuits we can use a little trick which consists of replacing the resistor with a capacitor", "start": 231.989, "duration": 7.7}, {"text": "The reason is that the capacitor creates a reactance when used with an alternating voltage", "start": 240.359, "duration": 5.72}, {"text": "Which is kind of like resistance", "start": 246.72, "duration": 2.0}, {"text": "But feel free to watch my basics video about impedance to understand this topic better", "start": 249.33, "duration": 5.24}, {"text": "anyway, after using the reactance formula of a capacitor to calculate its capacitance so that we get an", "start": 255.84, "duration": 7.79}, {"text": "apparent resistance of 45.4 k\u03a9", "start": 263.63, "duration": 2.97}, {"text": "I got a value of 0.0701 microfarad", "start": 266.99, "duration": 4.71}, {"text": "so I used a", "start": 272.76, "duration": 2.0}, {"text": "0.068 microfarad", "start": 275.07, "duration": 1.74}, {"text": "MK ten capacitor which is an impulse capacitor that can handle short voltage spikes which come with a higher voltage", "start": 276.81, "duration": 7.73}, {"text": "Usually you would use so called X two safety capacitors for such a circuit", "start": 286.05, "duration": 5.33}, {"text": "Since they can handle such impulses as well and also tends to fail as a short", "start": 291.81, "duration": 5.179}, {"text": "So that the protection devices of your house wiring can interrupt the current flow", "start": 297.42, "duration": 4.819}, {"text": "But nevertheless after building up the circuit and hooking it up to mains voltage. It seems like I made a small mistake", "start": 303.15, "duration": 7.309}, {"text": "Because no matter what I tried the led always blew up", "start": 311.4, "duration": 3.679}, {"text": "It seems like the inrush current of the circuit is too high for the led", "start": 315.93, "duration": 4.97}, {"text": "That is why I started searching for devices which use capacitive dropper circuits to better understand how to build them properly", "start": 321.75, "duration": 7.82}, {"text": "The first one I found was this GU10 LED spots", "start": 330.6, "duration": 4.04}, {"text": "That apparently uses up to 60 LEDs in series in order to decrease the voltage", "start": 334.98, "duration": 5.66}, {"text": "the capacitor has to drop and", "start": 340.88, "duration": 2.26}, {"text": "After destroying the glass enclosure of the lamp. I had a closer look at the main PCB", "start": 343.95, "duration": 5.599}, {"text": "As expected we got a big capacitor", "start": 350.43, "duration": 2.72}, {"text": "But also a full bridge rectifier power resistor smaller resistors and a big electrolytic capacitor", "start": 353.49, "duration": 7.429}, {"text": "But all in all this was not quite the circuit I was looking for", "start": 361.29, "duration": 4.009}, {"text": "So next I found this RF remote activated sockets, which after opening its housing look pretty promising", "start": 366.21, "duration": 7.519}, {"text": "Not only was there no visible transformer, but it also came with a big", "start": 374.94, "duration": 4.429}, {"text": "0.33 micro farad x2 rated capacitor", "start": 380.4, "duration": 3.26}, {"text": "That is why I removed the circuit from its enclosure and followed the mains power lines through the circuits in", "start": 384.659, "duration": 7.01}, {"text": "Order to create a schematic for it", "start": 391.949, "duration": 2.0}, {"text": "After simplifying my resulting schematic a bit, it looked like this", "start": 395.099, "duration": 4.19}, {"text": "First off, we got a fuse which will blow up if something goes wrong", "start": 400.259, "duration": 4.07}, {"text": "next we got the capacitor which provides our apparent resistance and", "start": 405.659, "duration": 4.82}, {"text": "parallel to it we got two", "start": 411.18, "duration": 2.0}, {"text": "110 k\u03a9 resistors", "start": 413.759, "duration": 2.0}, {"text": "Which will discharge the capacitor once power is no longer applied on", "start": 415.889, "duration": 5.149}, {"text": "the other mains voltage wire we got a", "start": 421.499, "duration": 2.839}, {"text": "550 ohm 1 watt resistor which may introduce real power loss to the circuits", "start": 424.979, "duration": 5.479}, {"text": "But it's necessary to limit the inrush current of the capacitor", "start": 430.709, "duration": 4.13}, {"text": "The reduced mains voltage then connects to a (in booming voice) FULL BRIDGE RECTIFIER (oh, no, that was Mehdi), which turns our voltage from AC to DC", "start": 435.899, "duration": 6.89}, {"text": "next a Zener diode clamps this DC voltage to a specific maximum like five point one volts and", "start": 444.119, "duration": 6.649}, {"text": "at the end, we got a big electrolytic capacitor to smooth everything out and", "start": 451.08, "duration": 5.269}, {"text": "Just like that the circuit turns 230 volts AC to 5.1 volts DC", "start": 457.169, "duration": 5.869}, {"text": "So I gathered a couple of components I had lying around and built up the just described circuit", "start": 464.219, "duration": 6.29}, {"text": "Only with a few changed values for the components as soon as my test circuit was complete", "start": 471.149, "duration": 6.59}, {"text": "I hooked it up to mains voltage and measured the voltage on the output which was around 5.1 volts", "start": 477.74, "duration": 7.079}, {"text": "Perfect!", "start": 485.759, "duration": 1.38}, {"text": "The circuit rule 10 milliamps, why doing nothing, which makes mathematical sense?", "start": 487.139, "duration": 5.059}, {"text": "because if we use the reactance of the capacitors and combine it with the resistance of the inrush current resistors to", "start": 492.809, "duration": 7.37}, {"text": "Calculate the overall impedance", "start": 500.58, "duration": 2.0}, {"text": "Then we can calculate a current flow of not surprisingly nine point nine five milliamps", "start": 502.919, "duration": 5.989}, {"text": "when using a voltage value of", "start": 509.459, "duration": 2.059}, {"text": "233 volts AC", "start": 512.159, "duration": 2.0}, {"text": "That means we can only draw a maximum of around ten milliamps at the output of the circuit", "start": 514.56, "duration": 5.72}, {"text": "Otherwise our stable 5.1 volts would break down", "start": 520.92, "duration": 3.259}, {"text": "Don't believe me?", "start": 525.21, "duration": 1.5}, {"text": "well", "start": 526.71, "duration": 0.5}, {"text": "Let's hook up the ATtiny project we started with", "start": 527.21, "duration": 3.21}, {"text": "Which like I determined at the beginning draws 8 to 12 milliamps", "start": 530.79, "duration": 4.429}, {"text": "As you can see after powering the circuits the ATtiny project works fine", "start": 536.1, "duration": 5.599}, {"text": "But by checking the voltage with a multimeter, we can see how it breaks down quite a bit", "start": 542.16, "duration": 5.57}, {"text": "To get rid of this problem, we can add another capacitor in parallel", "start": 548.64, "duration": 3.89}, {"text": "Which increases the overall capacitance and thus decreases the reactance", "start": 553.47, "duration": 5.269}, {"text": "This way, we should be able to draw around 12 milliamps of current", "start": 559.62, "duration": 4.07}, {"text": "which as you can see seems to be correct and", "start": 564.42, "duration": 3.169}, {"text": "reduces the breakdown of the output voltage", "start": 568.32, "duration": 2.6}, {"text": "If we require more current though", "start": 571.86, "duration": 2.12}, {"text": "We would need higher capacitances and thus also physically bigger capacitors which are not only quite expensive", "start": 574.26, "duration": 7.46}, {"text": "But also do not save a lot of space", "start": 582.12, "duration": 2.54}, {"text": "combine that with the effect that the created power factor of such capacitive droppers will always be terrible and", "start": 585.9, "duration": 6.859}, {"text": "You realize that such power supplies are only intended for small loads", "start": 593.01, "duration": 4.46}, {"text": "by the way", "start": 598.59, "duration": 0.83}, {"text": "if you didn't understand why a poor power factor is not desirable and", "start": 599.42, "duration": 4.319}, {"text": "Basically strains our power grid then have a look at my basics video about reactive power", "start": 604.23, "duration": 5.57}, {"text": "Anyway, my capacitive power supply works just fine", "start": 611.01, "duration": 3.349}, {"text": "But as you might have noticed I only come in contact with it through rubber gloves", "start": 614.36, "duration": 5.31}, {"text": "The reason is that if the live or neutral wire is correctly hooked up to the circuits", "start": 620.73, "duration": 5.15}, {"text": "then the smaller 5.1 volts output voltage is", "start": 626.31, "duration": 3.169}, {"text": "Referenced to neutral and thus earth so everything is fine", "start": 630.06, "duration": 4.13}, {"text": "but since we can easily turn the mains voltage wires around which by the way", "start": 635.04, "duration": 5.359}, {"text": "does not influence the functionality of the circuit", "start": 640.4, "duration": 2.789}, {"text": "We now have 5.1 volts reference to the live wire which can lead to fatal injuries if touched", "start": 643.53, "duration": 6.829}, {"text": "That is why capacitive dropper power supplies are super dangerous and should always be positioned inside a closed housing", "start": 651.45, "duration": 7.579}, {"text": "Switched-mode power supplies on the other hands feature a galvanically isolated output", "start": 660.089, "duration": 5.239}, {"text": "meaning it does not come with a dangerous potential to earth which we could touch and", "start": 666.06, "duration": 5.209}, {"text": "with that being said you should now be familiar with capacitive dropper circuits", "start": 672.089, "duration": 5.03}, {"text": "and understand why you should never touch them with bare hands. I", "start": 677.73, "duration": 3.32}, {"text": "Hope you enjoyed this video. If so, don't forget to like, share and subscribe", "start": 681.93, "duration": 4.339}, {"text": "Stay creative and I will see you next time", "start": 687.36, "duration": 3.559}]